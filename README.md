# Botmock Bot Framework Export

<!-- [![Build Status](https://dev.azure.com/botmock/botmock-botframework-export/_apis/build/status/Botmock.botmock-botframework-export?branchName=master)](https://dev.azure.com/botmock/botmock-botframework-export/_build/latest?definitionId=1&branchName=master) -->

> creates bot framework [language generation](https://github.com/Microsoft/BotBuilder-Samples/tree/master/experimental/language-generation#language-generation-preview), and [ludown](https://github.com/Microsoft/botbuilder-tools/blob/master/packages/Ludown/docs/lu-file-format.md) files from a botmock project for use with .NET, C#, or NodeJS Botframework projects

The files generated by this script are able to be consumed in order to take advantage of the new [**Adaptive Dialog**](https://github.com/microsoft/BotBuilder-Samples/tree/master/experimental/adaptive-dialog#adaptive-dialog-preview) paradigm in Bot Framework.

Using this paradigm takes the form of

1. copying over the generated files from this script
2. correctly referencing prompts in the generated `.lg` file within your scripts

For example, step `2.` looks like

```typescript
async transportStep(step) {
  const promptIdGeneratedByBotmockScript = "PROMPT_ID";
  return await step.prompt(CHOICE_PROMPT, {
    prompt: ActivityFactory.createActivity(this.templateEngine.evaluateTemplate(promptIdGeneratedByBotmockScript)),
  });
}
```

For more on the above, see [offical Language generation examples](https://github.com/microsoft/BotBuilder-Samples/tree/master/experimental/language-generation/javascript_nodejs/05.multi-turn-prompt#multi-turn-prompt-sample)

> Note that to take advantage of the generated `.lu` file, you must have a [luis.ai account](https://www.luis.ai/).

## Table of Contents

* [Overview](#overview)
  * [Prerequisites](#prerequisites)
  * [Installation](#installation)
    * [clone](#clone)
    * [env](#env)
  * [Commands](#commands)
    * [start](#start)
  * [Importing](#importing)
    * [File movement](#file-movement)

## Overview

### Prerequisites

- [Node JS](https://nodejs.org/en/) version 12.x

```bash
#determine nodejs version
node --version
```

### Installation

#### Clone

Clone this repository and install dependencies:

```shell
git clone git@github.com:Botmock/botmock-botframework-export.git

cd botmock-botframework-export

npm i
```

#### Env

Create `.env` in `/botmock-botframework-export` and fill in values for the following:

```shell
BOTMOCK_TOKEN=@botmock-token
BOTMOCK_TEAM_ID=@botmock-team-id
BOTMOCK_BOARD_ID=@botmock-board-id
BOTMOCK_PROJECT_ID=@botmock-project-id
```

To get your Botmock API token, follow the [guide](http://help.botmock.com/en/articles/2334581-developer-api).

### Commands

#### `start`

Populates `/output` with `.lu` and `.lg` files produced from your original project.

```shell
npm start
```

### Importing

#### File movement

The script creates some of the files expected in Bot Framework apps.

For more on this, see [the examples](https://github.com/microsoft/BotBuilder-Samples/tree/master/experimental/language-generation/javascript_nodejs/05.multi-turn-prompt).

To use the files produced by `npm start` in a project:

- move generated files to your project directory
- reference generated Language Generation file in existing .NET, C#, or Node JS codebase
